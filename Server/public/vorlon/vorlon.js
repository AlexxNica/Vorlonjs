var VORLON;!function(e){var t=function(){function e(){}return e.SetImmediate=function(e){window.setImmediate?setImmediate(e):setTimeout(e,0)},e.Hook=function(e,t,r){var n=e[t];e[t]=function(){for(var t=[],s=0;s<arguments.length;s++)t[s-0]=arguments[s];r(t),n.call(e,t)}},e.CreateCookie=function(e,t,r){var n;if(r){var s=new Date;s.setTime(s.getTime()+24*r*60*60*1e3),n="; expires="+s.toUTCString()}else n="";document.cookie=e+"="+t+n+"; path=/"},e.ReadCookie=function(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var s=r[n];" "===s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(t))return s.substring(t.length,s.length)}return""},e.CreateGUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,r="x"===e?t:3&t|8;return r.toString(16)})},e.RemoveEmpties=function(e){for(var t=e.length,r=t-1;r>=0;r--)e[r]||(e.splice(r,1),t--);return t},e.AddClass=function(t,r){if(t.classList){if(r.indexOf(" ")<0)t.classList.add(r);else{var n=r.split(" ");e.RemoveEmpties(n);for(var s=0,o=n.length;o>s;s++)t.classList.add(n[s])}return t}var i,a=t.className,d=a.split(" "),p=e.RemoveEmpties(d);if(r.indexOf(" ")>=0){for(n=r.split(" "),e.RemoveEmpties(n),s=0;p>s;s++){var u=n.indexOf(d[s]);u>=0&&n.splice(u,1)}n.length>0&&(i=n.join(" "))}else{var l=!1;for(s=0;p>s;s++)if(d[s]===r){l=!0;break}l||(i=r)}return i&&(t.className=p>0&&d[0].length>0?a+" "+i:i),t},e.RemoveClass=function(t,r){if(t.classList){if(0===t.classList.length)return t;var n=r.split(" ");e.RemoveEmpties(n);for(var s=0,o=n.length;o>s;s++)t.classList.remove(n[s]);return t}var i=t.className;if(r.indexOf(" ")>=0)n=r.split(" "),e.RemoveEmpties(n);else{if(i.indexOf(r)<0)return t;n=[r]}var a,d=i.split(" "),p=e.RemoveEmpties(d);for(s=p-1;s>=0;s--)n.indexOf(d[s])>=0&&(d.splice(s,1),a=!0);return a&&(t.className=d.join(" ")),t},e}();e.Tools=t}(VORLON||(VORLON={}));var VORLON;!function(e){!function(e){e[e.Client=0]="Client",e[e.Dashboard=1]="Dashboard",e[e.Both=2]="Both"}(e.RuntimeSide||(e.RuntimeSide={}));e.RuntimeSide;!function(e){e[e.OneOne=0]="OneOne",e[e.MulticastReceiveOnly=1]="MulticastReceiveOnly",e[e.Multicast=2]="Multicast"}(e.PluginType||(e.PluginType={}));e.PluginType}(VORLON||(VORLON={}));var VORLON;!function(e){var t=function(){function e(e,t,r){this.loadingDirectory="Vorlon/plugins",this._ready=!0,this._type=0,this.name=e,this.htmlFragmentUrl=t,this.cssStyleSheetUrl=r}return Object.defineProperty(e.prototype,"Type",{get:function(){return this._type},enumerable:!0,configurable:!0}),e.prototype.getID=function(){return""},e.prototype.isReady=function(){return this._ready},e.prototype.startClientSide=function(){},e.prototype.startDashboardSide=function(){},e.prototype.onRealtimeMessageReceivedFromClientSide=function(){},e.prototype.onRealtimeMessageReceivedFromDashboardSide=function(){},e.prototype.refresh=function(){console.error("Please override plugin.refresh()")},e.prototype._insertHtmlContentAsync=function(e,t){var r=this,n="/"+this.loadingDirectory+"/"+this.name+"/",s=!1;e||(e=document.createElement("div"),document.body.appendChild(e),s=!0);var o=new XMLHttpRequest;o.open("GET",n+this.htmlFragmentUrl,!0),o.onreadystatechange=function(){if(4===o.readyState){if(200!==o.status)throw new Error("Error status: "+o.status+" - Unable to load "+n+r.htmlFragmentUrl);e.innerHTML=r._stripContent(o.responseText);var i=document.getElementsByTagName("head")[0],a=document.createElement("link");a.type="text/css",a.rel="stylesheet",a.href=n+r.cssStyleSheetUrl,a.media="screen",i.appendChild(a);var d=e.children[0];s&&(d.className="alone"),t(d)}},o.send(null)},e.prototype._loadNewScriptAsync=function(e,t){var r="/"+this.loadingDirectory+"/"+this.name+"/",n=document.createElement("script");n.setAttribute("src",r+e),n.onload=t,document.body.appendChild(n)},e.prototype._stripContent=function(e){var t=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,r=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im;if(e){e=e.replace(t,"");var n=e.match(r);n&&(e=n[1])}return e},e}();e.Plugin=t}(VORLON||(VORLON={}));var VORLON;!function(e){var t=function(){function t(t,r,n,s,o){var i=this;switch(this._isConnected=!1,this._isConnected=!1,this._sessionId=n,this._clientId=s,e.Core._listenClientId=o,this._serverUrl=r,this._waitingEvents=0,t){case 0:this._socket=io.connect(r),this._isConnected=!0;break;case 1:this._socket=io.connect(r+"/dashboard"),this._isConnected=!0}if(this.isConnected){var a=io.Manager(r);a.on("connect_error",function(e){i.onError&&i.onError(e)}),this._socket.on("message",function(e){var t=JSON.parse(e),r=t._pluginID;delete t._pluginID,i.onRealtimeMessageReceived&&i.onRealtimeMessageReceived(r,t)}),this._socket.on("helo",function(t){e.Core._listenClientId=t,i.onHeloReceived&&i.onHeloReceived(t)}),this._socket.on("identify",function(e){i.onIdentifyReceived&&i.onIdentifyReceived(e)}),this._socket.on("stoplisten",function(){i.onStopListenReceived&&i.onStopListenReceived()}),this._socket.on("waitingevents",function(e){if(i.onWaitingEventsReceived){var t=JSON.parse(e);i.onWaitingEventsReceived(t._clientId,t._waitingEvents)}}),this._socket.on("refreshclients",function(){i.onRefreshClients&&i.onRefreshClients()})}}return Object.defineProperty(t.prototype,"isConnected",{get:function(){return this._isConnected},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientId",{set:function(e){this._clientId=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"socketId",{get:function(){return this._socket.id},enumerable:!0,configurable:!0}),t.prototype.sendWaitingEvents=function(t,r){var n={};if(n._pluginID=t,n._side=0,n._sessionId=this._sessionId,n._clientId=this._clientId,n._listenClientId=e.Core._listenClientId,n._waitingEvents=r,this.isConnected){var s=JSON.stringify(n);this._socket.emit("waitingevents",s)}},t.prototype.sendRealtimeMessage=function(t,r,n,s,o){if(void 0===s&&(s="message"),void 0===o&&(o=!1),r._pluginID=t,r._side=n,r._sessionId=this._sessionId,r._clientId=this._clientId,r._listenClientId=e.Core._listenClientId,!this.isConnected)return this.onRealtimeMessageReceived&&this.onRealtimeMessageReceived(t,r),void 0;if(""===e.Core._listenClientId&&"message"===s)o&&(this._waitingEvents++,this.sendWaitingEvents(t,this._waitingEvents));else{var i=JSON.stringify(r);this._socket.emit(s,i),this._waitingEvents=0,this.sendWaitingEvents(t,0)}},t.prototype.sendMonitoringMessage=function(e,t){var r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&200===r.status},r.open("POST",this._serverUrl+"api/push"),r.setRequestHeader("Content-type","application/json;charset=UTF-8");var n=JSON.stringify({_idsession:this._sessionId,id:e,message:t});r.send(n)},t.prototype.getMonitoringMessage=function(e,t,r,n){void 0===r&&(r="-20"),void 0===n&&(n="-1");var s=new XMLHttpRequest;s.onreadystatechange=function(){4===s.readyState?200===s.status?t&&t(JSON.parse(s.responseText)):t&&t(null):t&&t(null)},s.open("GET",this._serverUrl+"api/range/"+this._sessionId+"/"+e+"/"+r+"/"+n),s.send()},t}();e.ClientMessenger=t}(VORLON||(VORLON={}));var VORLON;!function(e){var t=function(){function t(){}return Object.defineProperty(t,"Messenger",{get:function(){return t._messenger},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Plugins",{get:function(){return t._plugins},enumerable:!0,configurable:!0}),t.RegisterPlugin=function(e){t._plugins.push(e)},t.Start=function(r,n,s,o){void 0===r&&(r="'http://localhost:1337/'"),void 0===n&&(n=""),void 0===s&&(s=""),void 0===o&&(o=null),t._side=0,t._sessionID=n,t._listenClientId=s,r||(t._side=2),o&&(t._side=1);var i=e.Tools.ReadCookie("vorlonJS_clientId");i||(i=e.Tools.CreateGUID(),e.Tools.CreateCookie("vorlonJS_clientId",i,1)),t._messenger=new e.ClientMessenger(t._side,r,n,i,s),t.Messenger.onRealtimeMessageReceived=t._Dispatch,t.Messenger.onHeloReceived=t._OnIdentificationReceived,t.Messenger.onIdentifyReceived=t._OnIdentifyReceived,t.Messenger.onStopListenReceived=t._OnStopListenReceived,t.Messenger.onError=t._OnError;var a={ua:navigator.userAgent};t.Messenger.sendRealtimeMessage("",a,t._side,"helo");for(var d=0;d<t._plugins.length;d++){var p=t._plugins[d];(2===t._side||0===t._side)&&p.startClientSide(),(2===t._side||1===t._side)&&p.startDashboardSide(o?o(p.getID()):null)}0===t._side&&window.addEventListener("beforeunload",function(){t.Messenger.sendRealtimeMessage("",{socketid:t.Messenger.socketId},t._side,"clientclosed")},!1)},t._OnStopListenReceived=function(){t._listenClientId=""},t._OnIdentifyReceived=function(e){var t=document.createElement("div");t.style.position="absolute",t.style.left="0",t.style.top="50%",t.style.marginTop="-150px",t.style.width="100%",t.style.height="300px",t.style.fontFamily="Arial",t.style.fontSize="300px",t.style.textAlign="center",t.style.color="white",t.style.textShadow="2px 2px 5px black",t.innerHTML=e,document.body.appendChild(t),setTimeout(function(){document.body.removeChild(t)},4e3)},t._OnError=function(e){var t=document.createElement("div");t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100px",t.style.backgroundColor="red",t.style.textAlign="center",t.style.fontSize="30px",t.style.paddingTop="20px",t.style.color="white",t.style.fontFamily="consolas",t.innerHTML="Error while connecting to server. Server may be offline.<BR>Error message: "+e.message,document.body.appendChild(t),setTimeout(function(){document.body.removeChild(t)},5e3)},t._OnIdentificationReceived=function(e){if(t._listenClientId=e,0===t._side)for(var r=0;r<t._plugins.length;r++){var n=t._plugins[r];n.refresh()}},t._RetrySendingRealtimeMessage=function(e,r){setTimeout(function(){return e.isReady()?(e.onRealtimeMessageReceivedFromClientSide(r),void 0):(t._RetrySendingRealtimeMessage(e,r),void 0)},t._RetryTimeout)},t._Dispatch=function(e,r){var n=r._side;delete r._side;for(var s=0;s<t._plugins.length;s++){var o=t._plugins[s];if(o.getID()===e)return 0===n?o.isReady()?o.onRealtimeMessageReceivedFromClientSide(r):t._RetrySendingRealtimeMessage(o,r):o.onRealtimeMessageReceivedFromDashboardSide(r),void 0}},t._plugins=new Array,t._RetryTimeout=1e3,t}();e.Core=t}(VORLON||(VORLON={}));var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r},VORLON;!function(VORLON){var InteractiveConsole=function(_super){function InteractiveConsole(){_super.call(this,"interactiveConsole","control.html","control.css"),this._cache=[],this._ready=!1}return __extends(InteractiveConsole,_super),InteractiveConsole.prototype.getID=function(){return"CONSOLE"},InteractiveConsole.prototype.startClientSide=function(){var e=this;VORLON.Tools.Hook(window.console,"log",function(t){var r={message:t,type:"log"};VORLON.Core.Messenger.sendRealtimeMessage(e.getID(),r,0,"message",!0),e._cache.push(r)}),VORLON.Tools.Hook(window.console,"warn",function(t){var r={message:t,type:"warn"};VORLON.Core.Messenger.sendRealtimeMessage(e.getID(),r,0,"message",!0),e._cache.push(r)}),VORLON.Tools.Hook(window.console,"error",function(t){var r={message:t,type:"error"};VORLON.Core.Messenger.sendRealtimeMessage(e.getID(),r,0,"message",!0),e._cache.push(r)});var t=Error;Error=function(r){var n=new t(r),s={message:r,type:"exception"};return VORLON.Core.Messenger.sendRealtimeMessage(e.getID(),s,0,"message",!0),e._cache.push(s),n}},InteractiveConsole.prototype.onRealtimeMessageReceivedFromDashboardSide=function(receivedObject){switch(receivedObject.type){case"eval":try{console.log("Executing order: "+receivedObject.order),eval(receivedObject.order)}catch(e){console.error("Unable to execute order: "+e.message)}}},InteractiveConsole.prototype.refresh=function(){VORLON.Core.Messenger.sendRealtimeMessage(this.getID(),{type:"clear"},0);for(var e=0;e<this._cache.length;e++)VORLON.Core.Messenger.sendRealtimeMessage(this.getID(),this._cache[e],0,"message",!0)},InteractiveConsole.prototype.startDashboardSide=function(e){var t=this;void 0===e&&(e=null),this._insertHtmlContentAsync(e,function(){t._containerDiv=document.getElementById("logs"),t._interactiveInput=document.getElementById("input"),t._interactiveInput.addEventListener("keydown",function(e){13===e.keyCode&&(VORLON.Core.Messenger.sendRealtimeMessage(t.getID(),{order:t._interactiveInput.value,type:"eval"},1),t._interactiveInput.value="")}),t._ready=!0})},InteractiveConsole.prototype.onRealtimeMessageReceivedFromClientSide=function(e){if("clear"!==e.type){var t=document.createElement("div");switch(VORLON.Tools.AddClass(t,"log"),e.type){case"log":t.innerHTML=e.message,VORLON.Tools.AddClass(t,"logMessage");break;case"warn":t.innerHTML=e.message,VORLON.Tools.AddClass(t,"logWarning");break;case"error":t.innerHTML=e.message,VORLON.Tools.AddClass(t,"logError");break;case"exception":t.innerHTML=e.message,VORLON.Tools.AddClass(t,"logException");break;case"order":return this._interactiveInput.value='document.getElementById("'+e.order+'")',void 0}this._containerDiv.insertBefore(t,this._containerDiv.childNodes.length>0?this._containerDiv.childNodes[0]:null)}else for(;this._containerDiv.hasChildNodes();)this._containerDiv.removeChild(this._containerDiv.lastChild)},InteractiveConsole}(VORLON.Plugin);VORLON.InteractiveConsole=InteractiveConsole,VORLON.Core.RegisterPlugin(new InteractiveConsole)}(VORLON||(VORLON={}));var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r},VORLON;!function(e){var t=function(t){function r(){t.call(this,"domExplorer","control.html","control.css"),this._internalId=0,this._ready=!1}return __extends(r,t),r.prototype.getID=function(){return"DOM"},r.prototype._getAppliedStyles=function(e){for(var t,r=new Array,n=document.styleSheets,s=new Array,o=0;o<n.length;o++)for(var i=n[o].rules||n[o].cssRules,a=0;a<i.length;a++)for(var d=i[a],p=d.selectorText,u=document.querySelectorAll(p),l=0;l<u.length;l++){var c=u[l];if(t=d.style,c===e)for(var h=0;h<t.length;h++)-1===s.indexOf(t[h])&&s.push(t[h])}if(t=e.style)for(l=0;l<t.length;l++)-1===s.indexOf(t[l])&&s.push(t[l]);var m=document.defaultView||window;for(l=0;l<s.length;l++){var g=s[l];m.getComputedStyle&&r.push(g+":"+m.getComputedStyle(e,"").getPropertyValue(g))}return r},r.prototype._packageNode=function(e){e.__internalId=this._internalId;var t={id:e.id,name:e.localName,classes:e.className,styles:this._getAppliedStyles(e),internalId:this._internalId++};return t},r.prototype._packageDOM=function(e,t){if(e.children&&0!==e.children.length)for(var r=0;r<e.children.length;r++){var n=e.children[r],s=this._packageNode(n);this._packageDOM(n,s),t.children||(t.children=[]),t.children.push(s)}},r.prototype._packageAndSendDOM=function(){this._internalId=0;var t=this._packageNode(document.body);this._packageDOM(document.body,t),e.Core.Messenger.sendRealtimeMessage(this.getID(),t,0)},r.prototype.startClientSide=function(){var t=this;document.addEventListener("DOMContentLoaded",function(){e.Core.Messenger.isConnected&&(document.addEventListener("DOMNodeInserted",function(){t.refresh()}),document.addEventListener("DOMNodeRemoved",function(){t.refresh()})),t.refresh()})},r.prototype._getElementByInternalId=function(e,t){if(t.__internalId===e)return t;for(var r=0;r<t.children.length;r++){var n=this._getElementByInternalId(e,t.children[r]);if(n)return n}return null},r.prototype.onRealtimeMessageReceivedFromDashboardSide=function(e){var t=this._getElementByInternalId(e.order,document.body);if(t)switch(e.type){case"select":t.__savedBorder=t.style.border,t.style.border="2px solid red";break;case"unselect":t.style.border=t.__savedBorder;break;case"ruleEdit":t.style[e.property]=e.newValue}},r.prototype.refresh=function(){var t=this;e.Tools.SetImmediate(function(){t._packageAndSendDOM()})},r.prototype.startDashboardSide=function(e){var t=this;void 0===e&&(e=null),this._dashboardDiv=e,this._insertHtmlContentAsync(this._dashboardDiv,function(e){t._containerDiv=e,t._treeDiv=document.getElementById("treeView"),t._styleView=document.getElementById("styleView"),t._ready=!0})},r.prototype._makeEditable=function(t){t.contentEditable="true",t.focus(),e.Tools.AddClass(t,"editable");var r=document.createRange();r.setStart(t,0),r.setEnd(t,1),window.getSelection().addRange(r)},r.prototype._generateClickableValue=function(t,r,n){var s=this,o=document.createElement("div");return o.contentEditable="false",o.innerHTML=r||"&nbsp;",o.className="styleValue",o.addEventListener("keydown",function(r){(13===r.keyCode||9===r.keyCode)&&(e.Core.Messenger.sendRealtimeMessage(s.getID(),{type:"ruleEdit",property:t.innerHTML,newValue:o.innerHTML,order:n},1),r.preventDefault(),o.contentEditable="false",e.Tools.RemoveClass(o,"editable"))}),o.addEventListener("blur",function(){o.contentEditable="false",e.Tools.RemoveClass(o,"editable")}),o.addEventListener("click",function(){return s._makeEditable(o)}),o},r.prototype._generateStyle=function(t,r,n,s){var o=this;void 0===s&&(s=!1);var i=document.createElement("div");i.innerHTML=t,i.className="styleLabel",i.contentEditable="false",this._styleView.appendChild(i);var a=this._generateClickableValue(i,r,n);this._styleView.appendChild(a),s&&(i.addEventListener("blur",function(){i.contentEditable="false",e.Tools.RemoveClass(i,"editable")}),i.addEventListener("click",function(){o._makeEditable(i)}),i.addEventListener("keydown",function(e){(13===e.keyCode||9===e.keyCode)&&(o._makeEditable(a),e.preventDefault())}))},r.prototype._generateStyles=function(e,t){for(var r=this;this._styleView.hasChildNodes();)this._styleView.removeChild(this._styleView.lastChild);for(var n=0;n<e.length;n++){var s=e[n],o=s.split(":");this._generateStyle(o[0],o[1],t)}this._generateButton(this._styleView,"+","styleButton",function(e){r._styleView.removeChild(e),r._generateStyle("property","value",t,!0),r._styleView.appendChild(e)})},r.prototype._appendSpan=function(e,t,r){var n=document.createElement("span");n.className=t,n.innerHTML=r,e.appendChild(n)},r.prototype._generateColorfullLink=function(e,t){this._appendSpan(e,"nodeTag","&lt;"),this._appendSpan(e,"nodeName",t.name),t.id&&(this._appendSpan(e,"nodeAttribute"," id"),this._appendSpan(e,"nodeTag",'="'),this._appendSpan(e,"nodeValue",t.id),this._appendSpan(e,"nodeTag",'"')),t.classes&&(this._appendSpan(e,"nodeAttribute"," class"),this._appendSpan(e,"nodeTag",'="'),this._appendSpan(e,"nodeValue",t.classes),this._appendSpan(e,"nodeTag",'"')),this._appendSpan(e,"nodeTag","&gt;")},r.prototype._generateColorfullClosingLink=function(e,t){this._appendSpan(e,"nodeTag","&lt;/"),this._appendSpan(e,"nodeName",t.name),this._appendSpan(e,"nodeTag","&gt;")},r.prototype._generateButton=function(e,t,r,n){var s=document.createElement("div");s.innerHTML=t,s.className=r,s.addEventListener("click",function(){return n(s)}),e.appendChild(s)},r.prototype._generateTreeNode=function(t,r,n){var s=this;void 0===n&&(n=!1);var o=document.createElement("div");t.appendChild(o);var i=document.createElement("div");this._generateButton(o,"-","treeNodeButton",function(e){"none"===i.style.display?(i.style.display="",e.innerHTML="-"):(i.style.display="none",e.innerHTML="+")});var a=document.createElement("a");if(a.__targetInternalId=r.internalId,this._generateColorfullLink(a,r),a.addEventListener("click",function(){s._previousSelectedNode&&(e.Tools.RemoveClass(s._previousSelectedNode,"treeNodeSelected"),e.Core.Messenger.sendRealtimeMessage(s.getID(),{type:"unselect",order:s._previousSelectedNode.__targetInternalId},1)),e.Tools.AddClass(a,"treeNodeSelected"),e.Core.Messenger.sendRealtimeMessage(s.getID(),{type:"select",order:r.internalId},1),s._generateStyles(r.styles,r.internalId),s._previousSelectedNode=a}),a.href="#",a.className="treeNodeHeader",o.appendChild(a),o.className=n?"firstTreeNodeText":"treeNodeText",r.id){var d=document.createElement("a");d.innerHTML="#",d.className="treeNodeTools",d.href="#",d.addEventListener("click",function(){e.Core.Messenger.sendRealtimeMessage("CONSOLE",{type:"order",order:r.id},0,"protocol")}),o.appendChild(d)}if(r.children)for(var p=0;p<r.children.length;p++){var u=r.children[p];this._generateTreeNode(i,u)}if(r.name){var l=document.createElement("div");l.className="treeNodeClosingText",this._generateColorfullClosingLink(l,r),i.appendChild(l)}o.appendChild(i)},r.prototype.onRealtimeMessageReceivedFromClientSide=function(e){for(;this._treeDiv.hasChildNodes();)this._treeDiv.removeChild(this._treeDiv.lastChild);this._generateTreeNode(this._treeDiv,e,!0)},r}(e.Plugin);e.DOMExplorer=t,e.Core.RegisterPlugin(new t)}(VORLON||(VORLON={}));var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r},VORLON;!function(e){var t=function(){function e(){}return e}();e.FeatureSupported=t;var r=function(t){function r(){t.call(this,"modernizrReport","control.html","control.css"),this.supportedFeatures=[],this._ready=!1}return __extends(r,t),r.prototype.getID=function(){return"MODERNIZR"},r.prototype.startClientSide=function(){var t=this;this._loadNewScriptAsync("modernizr.js",function(){if(Modernizr){t.supportedFeatures.push({featureName:"Application cache",isSupported:Modernizr.applicationcache,type:"html"}),t.supportedFeatures.push({featureName:"Audio tag",isSupported:Modernizr.audio,type:"html"}),t.supportedFeatures.push({featureName:"background-size",isSupported:Modernizr.backgroundsize,type:"css"}),t.supportedFeatures.push({featureName:"border-image",isSupported:Modernizr.borderimage,type:"css"}),t.supportedFeatures.push({featureName:"border-radius",isSupported:Modernizr.borderradius,type:"css"}),t.supportedFeatures.push({featureName:"box-shadow",isSupported:Modernizr.boxshadow,type:"css"}),t.supportedFeatures.push({featureName:"canvas",isSupported:Modernizr.canvas,type:"html"}),t.supportedFeatures.push({featureName:"canvas text",isSupported:Modernizr.canvastext,type:"html"}),t.supportedFeatures.push({featureName:"CSS Animations",isSupported:Modernizr.cssanimations,type:"css"}),t.supportedFeatures.push({featureName:"CSS Columns",isSupported:Modernizr.csscolumns,type:"css"}),t.supportedFeatures.push({featureName:"CSS Gradients",isSupported:Modernizr.cssgradients,type:"css"}),t.supportedFeatures.push({featureName:"CSS Reflections",isSupported:Modernizr.cssreflections,type:"css"}),t.supportedFeatures.push({featureName:"CSS Transforms",isSupported:Modernizr.csstransforms,type:"css"}),t.supportedFeatures.push({featureName:"CSS Transforms 3d",isSupported:Modernizr.csstransforms3d,type:"css"}),t.supportedFeatures.push({featureName:"CSS Transitions",isSupported:Modernizr.csstransitions,type:"css"}),t.supportedFeatures.push({featureName:"Drag'n'drop",isSupported:Modernizr.draganddrop,type:"html"}),t.supportedFeatures.push({featureName:"Flexbox",isSupported:Modernizr.flexbox,type:"css"}),t.supportedFeatures.push({featureName:"@font-face",isSupported:Modernizr.fontface,type:"css"}),t.supportedFeatures.push({featureName:"CSS Generated Content (:before/:after)",isSupported:Modernizr.generatedcontent,type:"css"}),t.supportedFeatures.push({featureName:"Geolocation API",isSupported:Modernizr.geolocation,type:"misc"}),t.supportedFeatures.push({featureName:"hashchange Event",isSupported:Modernizr.hashchange,type:"html"}),t.supportedFeatures.push({featureName:"History Management",isSupported:Modernizr.history,type:"html"}),t.supportedFeatures.push({featureName:"Color Values hsla()",isSupported:Modernizr.hsla,type:"css"}),t.supportedFeatures.push({featureName:"IndexedDB",isSupported:Modernizr.indexeddb,type:"html"}),t.supportedFeatures.push({featureName:"Inline SVG in HTML5",isSupported:Modernizr.inlinesvg,type:"misc"}),t.supportedFeatures.push({featureName:"Input Attribute autocomplete",isSupported:Modernizr.input.autocomplete,type:"html"}),t.supportedFeatures.push({featureName:"localStorage",isSupported:Modernizr.localstorage,type:"html"}),t.supportedFeatures.push({featureName:"Multiple backgrounds",isSupported:Modernizr.multiplebgs,type:"css"}),t.supportedFeatures.push({featureName:"opacity",isSupported:Modernizr.opacity,type:"css"}),t.supportedFeatures.push({featureName:"Cross-window Messaging",isSupported:Modernizr.postmessage,type:"html"}),t.supportedFeatures.push({featureName:"Color Values rgba()",isSupported:Modernizr.rgba,type:"css"}),t.supportedFeatures.push({featureName:"sessionStorage",isSupported:Modernizr.sessionstorage,type:"html"}),t.supportedFeatures.push({featureName:"SVG SMIL animation",isSupported:Modernizr.smil,type:"misc"}),t.supportedFeatures.push({featureName:"SVG",isSupported:Modernizr.svg,type:"misc"}),t.supportedFeatures.push({featureName:"SVG Clipping Paths",isSupported:Modernizr.svgclippaths,type:"misc"}),t.supportedFeatures.push({featureName:"text-shadow",isSupported:Modernizr.textshadow,type:"css"}),t.supportedFeatures.push({featureName:"Touch Events",isSupported:Modernizr.touch,type:"misc"}),t.supportedFeatures.push({featureName:"Video",isSupported:Modernizr.video,type:"html"}),t.supportedFeatures.push({featureName:"WebGL",isSupported:Modernizr.webgl,type:"misc"}),t.supportedFeatures.push({featureName:"Web Sockets",isSupported:Modernizr.websockets,type:"html"}),t.supportedFeatures.push({featureName:"Web SQL Database",isSupported:Modernizr.websqldatabase,type:"html"}),t.supportedFeatures.push({featureName:"Web Workers",isSupported:Modernizr.webworkers,type:"html"}),t.supportedFeatures.push({featureName:"A [download] attribute",isSupported:Modernizr.adownload,type:"noncore"}),t.supportedFeatures.push({featureName:"Mozilla Audio Data API",isSupported:Modernizr.audiodata,type:"noncore"}),t.supportedFeatures.push({featureName:"HTML5 Web Audio API",isSupported:Modernizr.webaudio,type:"noncore"}),t.supportedFeatures.push({featureName:"Battery Status API",isSupported:Modernizr.battery,type:"noncore"}),t.supportedFeatures.push({featureName:"Low Battery Level",isSupported:Modernizr.lowbattery,type:"noncore"}),t.supportedFeatures.push({featureName:"Blob Constructor",isSupported:Modernizr.blobconstructor,type:"noncore"}),t.supportedFeatures.push({featureName:"Canvas toDataURL image/jpeg",isSupported:Modernizr.todataurljpeg,type:"noncore"}),t.supportedFeatures.push({featureName:"Canvas toDataURL image/png",isSupported:Modernizr.todataurlpng,type:"noncore"}),t.supportedFeatures.push({featureName:"Canvas toDataURL image/webp",isSupported:Modernizr.todataurlwebp,type:"noncore"}),t.supportedFeatures.push({featureName:"HTML5 Content Editable Attribute",isSupported:Modernizr.contenteditable,type:"noncore"}),t.supportedFeatures.push({featureName:"Content Security Policy",isSupported:Modernizr.contentsecuritypolicy,type:"noncore"}),t.supportedFeatures.push({featureName:"HTML5 Context Menu",isSupported:Modernizr.contextmenu,type:"noncore"}),t.supportedFeatures.push({featureName:"Cookie",isSupported:Modernizr.cookies,type:"noncore"}),t.supportedFeatures.push({featureName:"Cross-Origin Resource Sharing",isSupported:Modernizr.cors,type:"noncore"}),t.supportedFeatures.push({featureName:"CSS background-position Shorthand",isSupported:Modernizr.bgpositionshorthand,type:"noncore"}),t.supportedFeatures.push({featureName:"CSS background-position-x/y",isSupported:Modernizr.bgpositionxy,type:"noncore"}),t.supportedFeatures.push({featureName:"CSS background-repeat: space",isSupported:Modernizr.bgrepeatspace,type:"noncore"}),t.supportedFeatures.push({featureName:"CSS background-repeat: round",isSupported:Modernizr.bgrepeatround,type:"noncore"}),t.supportedFeatures.push({featureName:"CSS background-size: cover",isSupported:Modernizr.bgsizecover,type:"noncore"}),t.supportedFeatures.push({featureName:"CSS Box Sizing",isSupported:Modernizr.boxsizing,type:"noncore"}),t.supportedFeatures.push({featureName:"CSS Calc",isSupported:Modernizr.csscalc,type:"noncore"}),t.supportedFeatures.push({featureName:"CSS Cubic Bezier Range",isSupported:Modernizr.cubicbezierrange,type:"noncore"});var r={};r.features=t.supportedFeatures,e.Core.Messenger.sendRealtimeMessage(t.getID(),r,0,"message")}})},r.prototype.refresh=function(){var t={};t.features=this.supportedFeatures,e.Core.Messenger.sendRealtimeMessage(this.getID(),t,0,"message")},r.prototype.onRealtimeMessageReceivedFromDashboardSide=function(){},r.prototype.startDashboardSide=function(e){var t=this;void 0===e&&(e=null),this._insertHtmlContentAsync(e,function(){t._cssFeaturesListTable=document.getElementById("cssFeaturesList"),t._htmlFeaturesListTable=document.getElementById("htmlFeaturesList"),t._miscFeaturesListTable=document.getElementById("miscFeaturesList"),t._nonCoreFeaturesListTable=document.getElementById("nonCoreFeaturesList"),t._ready=!0})},r.prototype.onRealtimeMessageReceivedFromClientSide=function(e){for(var t,r=e.features,n=0;n<r.length;n++){switch(r[n].type){case"css":t=this._cssFeaturesListTable;break;case"misc":t=this._miscFeaturesListTable;break;case"noncore":t=this._nonCoreFeaturesListTable;break;default:t=this._htmlFeaturesListTable}var s=t.rows.length,o=t.insertRow(s);o.insertCell(0).innerHTML=r[n].featureName;var i=o.insertCell(1);i.align="center",r[n].isSupported?(i.className="modernizrFeatureSupported",i.innerHTML="✔"):(i.className="modernizrFeatureUnsupported",i.innerHTML="×")}},r}(e.Plugin);e.ModernizrReport=r,e.Core.RegisterPlugin(new r)}(VORLON||(VORLON={}));